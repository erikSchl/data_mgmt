SELECT
       base.[:Id], 
       T3.[Name], 
       T3.[:Id], 
       base.[K24Number], 
       T1.[ManagementCode:Link], 
       T4.[Designation], 
       T4.[:Id], 
       T5.[IsBuyableInWebshop <DE>], 
       T5.[WebshopAdHocExport], 
       T6.[ABCClassificationK24], 
       T6.[SalesQuantity12MonthsRolling], 
       T6.[TotalStockQuantity], 
       T1.[ArticleStatus:Link], 
       T5.[CheckIsByable], 
       base.[ArticleID], 
       base.[Manufacturer:Link], 
       base.[ManufacturerArticleNo], 
       base.[PreprocessorManufacturerArticleNo], 
       T1.[UnitOfMeasure:Link], 
       T7.[ArticleDesignation <de>], 
       T8.[ArticleTypeNo], 
       T8.[:Id], 
       T1.[GenericArticle:Link], 
       T1.[IsBulkyGoods], 
       T5.[IsActive], 
       T5.[WebshopAdHocExportStaging]
 FROM [dbo].[Article.Articles] base WITH (NOLOCK) 
  LEFT OUTER JOIN [dbo].[Article.Articles:ArticleProperties] T1 WITH (NOLOCK) ON T1.[:Id] = [base].[:Id]
  LEFT OUTER JOIN [dbo].[MasterData.SubCategories] T2 WITH (NOLOCK) ON T2.[SubCategoryNo] = [T1].[SubCategory:Link]
  LEFT OUTER JOIN [dbo].[MasterData.ResponsiblePersonsForArticles] T3 WITH (NOLOCK) ON T3.[ResponsiblePersonNo] = [T2].[ResponsiblePerson:Link]
  LEFT OUTER JOIN [dbo].[Lookup.ManagementCodes] T4 WITH (NOLOCK) ON T4.[ManagementCode] = [T1].[ManagementCode:Link]
  LEFT OUTER JOIN [dbo].[Article.Articles:Catalog] T5 WITH (NOLOCK) ON T5.[:Id] = [base].[:Id]
  LEFT OUTER JOIN [dbo].[Article.Articles:DataWarehouseInformation] T6 WITH (NOLOCK) ON T6.[:Id] = [base].[:Id]
  LEFT OUTER JOIN [dbo].[Article.Articles:Texts] T7 WITH (NOLOCK) ON T7.[:Id] = [base].[:Id]
  LEFT OUTER JOIN [dbo].[Lookup.ArticleTypes] T8 WITH (NOLOCK) ON T8.[ArticleTypeNo] = [T1].[ArticleType:Link]
  LEFT OUTER JOIN [dbo].[Article.Articles:TecDocData] T9 WITH (NOLOCK) ON T9.[:Id] = [base].[:Id]
 WHERE (T5.[IsActive] = 1) AND (NOT (((T1.[ArticleStatus:Link] = @p53) AND (T6.[TotalStockQuantity] IS NULL)) OR ((T1.[ArticleStatus:Link] = @p54) AND (T6.[TotalStockQuantity] IS NULL)))) AND ((T1.[UnitOfMeasure:Link] LIKE @p55) OR (T1.[UnitOfMeasure:Link] LIKE @p56) OR (T1.[UnitOfMeasure:Link] LIKE @p57) OR (T1.[UnitOfMeasure:Link] LIKE @p58)) AND ((T9.[IsValid <DE>] = 1) OR (T9.[IsValid <DE>] IS NULL)) AND (NOT (base.[K24Number] IS NULL)) AND (EXISTS( SELECT *
                                                FROM    [Article.GenericArticleReferences] Alias5 WITH (NOLOCK)
                                                WHERE   ISNULL(Alias5.[HasActiveGenArtManufacturerPrio <DE>],0) = 1
                                                        AND base.ArticleID = Alias5.[Article:Link])) AND ((T5.[IsBuyableInWebshop <DE>] = 0) OR (T5.[IsBuyableInWebshop <DE>] IS NULL)) AND ((T1.[ManagementCode:Link] IS NULL) OR (T1.[ManagementCode:Link] LIKE @p59) OR (T1.[ManagementCode:Link] LIKE @p60)) AND (NOT (T1.[ArticleStatus:Link] LIKE @p61)) AND (NOT (T1.[ArticleStatus:Link] LIKE @p62)) AND (NOT (T1.[ArticleStatus:Link] LIKE @p63)) AND (NOT (T1.[ArticleStatus:Link] LIKE @p64))
 ORDER BY T6.[SalesQuantity12MonthsRolling] DESC, base.[ArticleID]
